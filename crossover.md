# Crossover Methods in GNP

本研究で用いる **Genetic Network Programming (GNP)** における交叉方法 6種類を解説します。  
交叉は、親個体の情報を組み合わせて新しい子個体を生成する操作であり、多様性の維持と性能向上に重要な役割を果たします。

---

## 1. 一様交叉 (Uniform Crossover)

- 各ノードを交叉率 $P_c$ に従ってランダムに選択  
- 選ばれたノードとその接続情報を交換  
- 全ノードに対して独立に行い、2つの子個体を生成  

例: 
Parent A: [A1]--[A2]--[A3]
Parent B: [B1]--[B2]--[B3]

→ 一部のノードをランダムに入れ替える
Child 1: [A1]--[B2]--[A3]
Child 2: [B1]--[A2]--[B3]


---

## 2. クラスタリング交叉 (Clustering Crossover with Dirichlet Process)

- ItemSB の後件部に基づいてクラスタリング  
- 同じクラスタに属するノード同士を交叉  
- クラスタ数はディリクレ過程により自動決定  

例:  
Cluster 1: {Node A, Node B}
Cluster 2: {Node C, Node D}

→ 同じクラスタ内のノードを交換


---

## 3. ランダム点選択交叉 (Random Point Crossover)

- ノード集合をランダムに2分割（A, B）  
- 内部アークは保持、外部アークはランダム再接続  

例:  
Parent Graph:
A1 → A2 (内部)
A2 → B1 (外部)

→ 子個体生成時に外部アークを再接続

---

## 4. ランダム幅優先選択交叉 (Random BFS Crossover)

- 親個体からランダムに交叉点を選択  
- 幅優先探索 (BFS) により部分グラフを切り出し交換  

例:  
交叉点: Node X
BFS探索 → {X, Xの近傍ノード}

→ 部分構造ごと入れ替え


---

## 5. 決定的幅優先選択交叉 (Deterministic BFS Crossover)

- 交叉点をランダムに選択  
- 近傍深さ ND を設定  
- ND ステップ以内の全ノードを部分グラフとして抽出  

例:  
交叉点: Node Y
ND = 2

部分グラフ = {Y, Yから2ステップ以内のノード}


---

## 6. 確率的生成交叉 (Probabilistic Offspring Generation)

- エリート個体の接続情報を解析  
- 確率分布に基づいて子個体を生成  

例:  
Elite Parent Connections:
Node A → Node B (70%)
Node A → Node C (30%)

→ 確率的に子個体の接続を決定


---

## まとめ

| 方法 | 構造保持 | 多様性 | 特徴 |
|------|-----------|---------|------|
| 一様交叉 | 高い | 中程度 | シンプルで破壊性が低い |
| クラスタリング交叉 | 中程度 | 中程度 | 意味のある交換が可能 |
| ランダム点選択交叉 | 中程度 | 高い | 接続をランダム再構築 |
| ランダム幅優先選択交叉 | 高い | 中程度 | BFS部分構造を交換 |
| 決定的幅優先選択交叉 | 高い | 低〜中 | ND制御で体系的交換 |
| 確率的生成交叉 | 高い | 中程度 | エリート情報を活用 |


